{% extends 'index.html' %}
{% load bootstrap %}
{% block search %}
    <style>
     .form-control {
         width: auto;
    }
    </style>
    <div class="well well-lg" style="width: 80%; margin-left: 10%; background-color: transparent;">
    <div align="center">
    <form action="" method="get">
    {{ form|bootstrap }}
    <input type="submit" value="фильтр" class="btn btn-primary btn-sm">
    <a href="{% url 'info:switch_list' %}" class="btn btn-default btn-sm">сброс</a>
</form>
    </div>
    </div>
{% endblock %}
{% block body %}
{% if switch %}
    <div class="panel panel-default" style="width: 90%; margin-left: 5%">
    <div class="panel-body">
    {% if user.is_superuser %}
    <a href="{% url 'info:switch_create' %}" class="btn btn-sm" style="margin: 4px;">Добавить свич</a>
    {% endif %}
    <table class="table table-bordered table-hover">
    <thead>
        <tr>
        <th>№</th>
        <th>IP адрес</th>
        <th>Модель</th>
        <th>Узел</th>
        <th>Описание</th>
        <th></th>
        </tr>
    </thead>
{% for element in switch %}
    <tbody>
    <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ element.ip_add }}</td>
        <td>{{ element.model }}</td>
        <td>{{ element.address.district }}-{{ element.address.quarter }},{{ element.address.home }}
            {% if element.address.apartment %}
                кв{{ element.address.apartment }}
            {% endif %}
        </td>
        <td>{{ element.description }}</td>
        <th><a href="{% url 'info:switch_detail' element.id %}" class="btn btn-success btn-xs">подробно</a></th>
    </tr>
    </tbody>
{% endfor %}
    </table>
{% endif %}
</div>
</div>
{% endblock %}
{% block paginator %}
{% endblock %}

